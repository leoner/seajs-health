<html>
<head>
<title>seajs-d3</title>
    <style>
        div.bar {
            display: inline-block;
            width: 20px;
            height: 75px;
            background-color: teal;
        }
    </style>
</head>
<script src="./lib/sea.js">

<script>
    seajs.config({
        "$": "jquery/jquery/1.7.2/jquery"
    })
</script>

<body>
<script>
seajs.use('./lib/d3.v3.min.js', function() {
    var dataset = [1, 10, 15, 20, 25, 10, 20, 40, 20, 33, 12, 40]
    var w = 500
    var h = 200

    var svg = d3.select('body').
        append('svg').
        attr('width', w).
        attr('height', h)


    svg.selectAll('rect').data(dataset).enter().append('rect').
        attr('x', function(d, i) {
            return i * (w / dataset.length)
        }).
        attr('y', function(d) {
            return h - d * 4
        }).
        attr('width', function(d, i) {
            return w / dataset.length - 2
        }).
        attr('height', function(d) {
            return d * 4
        }).
        attr('fill', function(d) {
            return "rgb(0, 0, " + (d * 10) + ")"
        })

    svg.selectAll('text').data(dataset).enter().append('text').
        text(function(d) {
            return d
        }).attr('x', function(d, i) {
            return i *  (w / dataset.length) + (w / dataset.length - 1)/ 2
        }).attr('y', function(d) {
            return h - d * 4 + 15
        }).attr('font-family', 'sans-serif').
        attr('font-size', '11px').
        attr('fill', 'white').
        attr('text-anchor', 'middle')

    /**
    svg.selectAll('circle1').data(dataset).enter().append('circle').attr('cx', function(d, i) {
        return (i * 50) + 25
    }).attr('cy', h / 2 ).
    attr('r', function(d) {return d}).
    attr('fill', 'yellow').
    attr('stroke', 'orange').
    attr('stroke-width', function(d) {return d / 2})
    */

    // d3.select('body').selectAll('div').data(dataset).enter().append('div').attr('class', 'bar').style('height', function(d) {return d * 5})
})
</script>

</body>

</html>
